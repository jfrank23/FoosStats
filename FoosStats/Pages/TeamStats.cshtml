@page
@model FoosStats.Pages.TeamStatsModel
@{
    ViewData["Title"] = "TeamStats";
}

<h1>Team Stats</h1>
<form method="post">
    <button type="submit" class="btn btn-primary">Refresh</button>
</form>
<p>Stats by team will only show if you have played 3 or more games with the individual.</p>
<h3>By Position</h3>
<table class="table">
    <thead>
        <tr>
            <td>Defense</td>
            <td>Offense</td>
            <td>Win Percentage</td>
            <td>Games Played</td>
            <td>Rank</td>
        </tr>
    </thead>
    <tbody>
        @foreach (var team in Model.teamsByPosition)
        {
            <tr>
                <td><a href="./Players/Detail/@team.DefenseID">@team.DefenseName</a></td>
                <td><a href="./Players/Detail/@team.OffenseID">@team.OffenseName</a></td>
                <td>@team.WinPct.ToString("F02") %</td>
                <td>@team.GamesPlayed</td>
                <td>@team.Rank</td>
            </tr>
        }
    </tbody>
</table>

<h3>Overall</h3>
<p>Position does not matter.</p>
<table class="table">
    <thead>
        <tr>
            <td>Player 1</td>
            <td>Player 2</td>
            <td>Win Percentage</td>
            <td>Games Played</td>
        </tr>
    </thead>
    <tbody>
        @foreach (var team in Model.overallTeams)
        {
            <tr>
                <td><a href="./Players/Detail/@team.DefenseID">@team.DefenseName</a></td>
                <td><a href="./Players/Detail/@team.OffenseID">@team.OffenseName</a></td>
                <td>@team.WinPct.ToString("F02") %</td>
                <td>@team.GamesPlayed</td>
            </tr>
        }
    </tbody>
</table>
